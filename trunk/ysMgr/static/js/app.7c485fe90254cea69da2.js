webpackJsonp([1],{"8FyA":function(e,t){},AgV0:function(e,t){},H0gw:function(e,t){},HUId:function(e,t){},"MMj/":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("//Fk"),i=a.n(r),n=a("fZjL"),o=a.n(n),s=a("7+uW"),l=a("zL8q"),d=a.n(l),c=(a("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)},staticRenderFns:[]});var u=a("VU/8")({name:"App"},c,!1,function(e){a("AgV0")},null,null).exports,m=a("/ocq"),p="http://106.12.18.6:80",h="http://106.12.18.6:80/ysMgrApi",f=h+"/sysUser",g=h+"/sysRole",v=h+"/sysResource",b=a("mP1F"),w=a.n(b),_={name:"Login",data:function(){return{logining:!1,ruleForm2:{userName:"",password:""},rules2:{userName:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},savePwd:!0}},mounted:function(){this.initData()},methods:{handleSubmit2:function(e){var t=this;this.$refs.ruleForm2.validate(function(e){e&&(t.logining=!0,t.$http.post("http://106.12.18.6:80/ysMgrApi/sysUser/login",{userName:t.ruleForm2.userName,password:w()(t.ruleForm2.password).toString()}).then(function(e){t.savePwd?(window.localStorage.setItem("qqlgjf4ief34fww1",t.compile(t.ruleForm2.userName)),window.localStorage.setItem("qqlgjf4ief34fww2",t.compile(t.ruleForm2.password))):(window.localStorage.setItem("qqlgjf4ief34fww1",""),window.localStorage.setItem("qqlgjf4ief34fww2","")),window.sessionStorage.setItem("zthMgrAccessToken",e.data.data.accessToken),window.sessionStorage.setItem("zthMgrUserId",e.data.data.id),window.sessionStorage.setItem("zthMgrUserName",e.data.data.userName),window.sessionStorage.setItem("zthMgrRealName",e.data.data.realname),t.logining=!1,t.$router.push("/welcome")}).catch(function(e){t.logining=!1}))})},initData:function(){this.ruleForm2.userName=this.uncompile(window.localStorage.getItem("qqlgjf4ief34fww1"))||"",this.ruleForm2.password=this.uncompile(window.localStorage.getItem("qqlgjf4ief34fww2"))||"",this.ruleForm2.userName&&this.ruleForm2.password&&this.ruleForm2.userName.length>0?this.savePwd=!0:this.savePwd=!1},compile:function(e){if(e&&e.length>0){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),a=1;a<e.length;a++)t+=String.fromCharCode(e.charCodeAt(a)+e.charCodeAt(a-1));return encodeURI(t)}return e},uncompile:function(e){if(e&&e.length>0){e=decodeURI(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),a=1;a<e.length;a++)t+=String.fromCharCode(e.charCodeAt(a)-t.charCodeAt(a-1));return t}return e}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm2",staticClass:"login-container",attrs:{model:e.ruleForm2,rules:e.rules2,"label-position":"left","label-width":"0px"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSubmit2(t):null}}},[a("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"userName"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm2.userName,callback:function(t){e.$set(e.ruleForm2,"userName",t)},expression:"ruleForm2.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}})],1),e._v(" "),a("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:e.savePwd,callback:function(t){e.savePwd=t},expression:"savePwd"}},[e._v("记住密码")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},on:{click:e.handleSubmit2}},[e._v("\n            登录\n        ")])],1)],1)},staticRenderFns:[]};var F=a("VU/8")(_,y,!1,function(e){a("zodK")},"data-v-5e19907c",null).exports,S={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var k=a("VU/8")({name:"Welcome",data:function(){return{}}},S,!1,function(e){a("HUId")},"data-v-61001d01",null).exports,$={name:"Home",data:function(){return{collapsed:!1,sysUserName:"UserName",resources:[],resources0:[]}},computed:{realName:function(){return window.sessionStorage.getItem("zthMgrRealName")}},mounted:function(){this.initData()},methods:{initData:function(){var e=this;this.userId=window.sessionStorage.getItem("zthMgrUserId"),this.$http.get("http://106.12.18.6:80/ysMgrApi/sysResource/getRoleIdByUserId",{params:{userId:this.userId}}).then(function(t){var a=t.data.data.roleId;window.sessionStorage.setItem("zthMgrSysRoleId",t.data.data.roleId),window.sessionStorage.setItem("zthMgrSysUserId",t.data.data.userId),e.$http.get("http://106.12.18.6:80/ysMgrApi/sysResource/sysResource/"+a,{}).then(function(t){e.resources=t.data.data})})},setDialogInfo:function(e){if(e)switch(e){case"info":case"pass":this.resetPwd();break;case"logout":this.logout()}else this.$message("菜单选项缺少command属性")},handleopen:function(){},handleclose:function(){},handleselect:function(e,t){},resetPwd:function(){this.$router.push("/sysUserChangePwd")},logout:function(){var e=this,t=this;this.$confirm("确认退出吗?",{type:"warning"}).then(function(){e.$http.get("http://106.12.18.6:80/ysMgrApi/sysUser/logout").then(function(e){window.sessionStorage.removeItem("zthMgrAccessToken"),window.sessionStorage.removeItem("zthMgrUserId"),window.sessionStorage.removeItem("zthMgrUserName"),window.sessionStorage.removeItem("zthMgrRealName"),t.$router.push("/login")})}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"container"},[a("el-col",{staticClass:"header",attrs:{span:24}},[a("el-col",{staticClass:"logo",attrs:{span:3}},[a("img",{attrs:{src:"static/img/logo.png"}}),e._v("\n            管理平台\n        ")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"tools",on:{click:function(t){return t.preventDefault(),e.collapse(t)}}},[a("i",{staticClass:"el-icon-menu"})])]),e._v(" "),a("el-col",{staticClass:"userinfo",attrs:{span:4}},[a("span",{staticClass:"el-dropdown-link userInfoName-inner"},[e._v("\n                     "+e._s(e.realName)+"\n                 ")]),e._v(" "),a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.setDialogInfo}},[a("span",{staticClass:"el-dropdown-link userinfo-inner"},[a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"info"}},[e._v("我的消息")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"pass"},nativeOn:{click:function(t){return e.resetPwd(t)}}},[e._v("修改密码")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"logout",divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1),e._v(" "),a("i",{staticClass:"fa fa-sign-out logout",on:{click:e.logout}})],1)],1),e._v(" "),a("el-col",{staticClass:"main",attrs:{span:24}},[a("aside",{class:e.collapsed?"menu-collapsed":"menu-expanded"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":!0,router:"",collapse:e.collapsed,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleopen,close:e.handleclose,select:e.handleselect}},[e._l(e.resources,function(t,r){return[a("el-submenu",{attrs:{index:r+""}},[a("template",{slot:"title"},[a("i",{class:t.icon}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._v(" "),e._l(t.children,function(t){return a("el-menu-item",{key:t.url,attrs:{index:t.url}},[e._v(e._s(t.title)+"\n                        ")])})],2)]})],2)],1),e._v(" "),a("section",{staticClass:"content-container"},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[a("strong",{staticClass:"title"},[e._v(e._s(e.$route.name))]),e._v(" "),a("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},e._l(e.$route.matched,function(t){return a("el-breadcrumb-item",{key:t.path},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}))],1),e._v(" "),a("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]};var C=a("VU/8")($,x,!1,function(e){a("ffIQ")},"data-v-32468394",null).exports,I={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var z=a("VU/8")({name:"Loading",data:function(){return{}}},I,!1,function(e){a("MMj/")},"data-v-63104bc1",null).exports,N=a("woOf"),D=a.n(N),V={name:"SysRoleResourceList",data:function(){return{total:0,page:1,pageSize:10,pageSizes:[10,20,30,50,100],orderName:"name",orderType:"ASC",searchValue:"",loading:!1,arrList:[],arrAllList:[],editFormVisible:!1,editLoading:!1,editForm:{},editFormTitle:"编辑",editFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],simpleName:[{required:!0,message:"请输入简写",trigger:"blur"}],url:[{required:!0,message:"请输入url",trigger:"blur"}],method:[{required:!0,message:"请输入方法",trigger:"blur"}],orderNum:[{required:!0,message:"请输入缩写",trigger:"blur"}]}}},mounted:function(){this.initData()},watch:{searchValue:function(e){this.filterData()}},methods:{initData:function(){var e=this;this.searchValue="",this.loading=!0,this.$http.get(v,{params:{reqPage:this.page,reqPageSize:this.pageSize,reqOrderName:this.orderName,reqOrderType:this.orderType}}).then(function(t){e.arrList=t.data.data.data,e.arrAllList=e.arrList,e.loading=!1,e.total=t.data.data.total}).catch(function(t){e.loading=!1})},filterData:function(){var e=this;this.searchValue?this.arrList=this.arrAllList.filter(function(t){return!(!t.id||-1===t.id.toString().indexOf(e.searchValue))||(!(!t.name||-1===t.name.indexOf(e.searchValue))||(!(!t.url||-1===t.url.indexOf(e.searchValue))||(!(!t.orderNum||-1===t.orderNum.indexOf(e.searchValue))||!(!t.method||-1===t.method.indexOf(e.searchValue)))))}):this.arrList=this.arrAllList},handleDel:function(e,t){var a=this;this.$confirm("确认删除["+t.name+"]吗?",{type:"warning"}).then(function(){a.$http.delete(v+"/"+t.id).then(function(e){a.$message.success(e.data.message),a.initData()})}).catch(function(){})},handleEdit:function(e,t){this.$refs.editForm&&this.$refs.editForm.clearValidate(),this.editForm=D()({},t),this.editFormTitle="编辑ID: "+t.id,this.editFormVisible=!0},handleAdd:function(){this.editForm={status:0,type:1,method:"GET"},this.editFormTitle="新增",this.editFormVisible=!0,this.$refs.editForm&&this.$refs.editForm.clearValidate()},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t?e.editForm.id?e.$http.put(v+"/"+e.editForm.id,e.editForm).then(function(t){e.$message.success(t.data.message),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.initData()}):e.$http.post(v,e.editForm).then(function(t){e.$message.success(t.data.message),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.initData()}):e.$message.error("表单验证失败!")})},handleCurrentChange:function(e){this.page=e,this.initData()},handleSizeChange:function(e){this.pageSize=e,this.page=1,this.initData()},handleSort:function(e,t,a){this.orderName=e.prop,"ascending"===e.order?this.orderType="ASC":"descending"===e.order&&(this.orderType="DESC"),this.page=1,this.initData()}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入内容"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.initData}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.arrList,size:"medium",stripe:"","highlight-current-row":""},on:{"sort-change":e.handleSort}},[a("el-table-column",{attrs:{prop:"id",label:"ID",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"simpleName",label:"简写",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNum",label:"排序",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"URL",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"method",label:"方法"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"sizes, prev, pager, next,total","current-page":e.page,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.page=t}}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.editFormTitle,visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"简写",prop:"simpleName"}},[a("el-input",{attrs:{placeholder:"请输入简写"},model:{value:e.editForm.simpleName,callback:function(t){e.$set(e.editForm,"simpleName",t)},expression:"editForm.simpleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"orderNum"}},[a("el-input",{attrs:{type:"number",placeholder:"排序"},model:{value:e.editForm.orderNum,callback:function(t){e.$set(e.editForm,"orderNum",t)},expression:"editForm.orderNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"URL",prop:"url"}},[a("el-input",{attrs:{placeholder:"请输入URL"},model:{value:e.editForm.url,callback:function(t){e.$set(e.editForm,"url",t)},expression:"editForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-radio-group",{model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("按钮")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("菜单")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"父级列表"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.editForm.parentId,callback:function(t){e.$set(e.editForm,"parentId",t)},expression:"editForm.parentId"}},e._l(e.arrList,function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("el-input",{attrs:{placeholder:"请输入图标"},model:{value:e.editForm.icon,callback:function(t){e.$set(e.editForm,"icon",t)},expression:"editForm.icon"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"方法",prop:"method"}},[a("el-radio-group",{model:{value:e.editForm.method,callback:function(t){e.$set(e.editForm,"method",t)},expression:"editForm.method"}},[a("el-radio",{staticClass:"radio",attrs:{label:"GET"}},[e._v("GET")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"POST"}},[e._v("POST")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"PUT"}},[e._v("PUT")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"DELETE"}},[e._v("DELETE")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var A=a("VU/8")(V,L,!1,function(e){a("XNkn")},"data-v-ca0855f6",null).exports,T={name:"SysUserList",data:function(){return{total:0,page:1,pageSize:10,pageSizes:[10,20,30,50,100],orderName:"id",orderType:"DESC",searchValue:"",loading:!1,arrList:[],arrAllList:[],roleList:[],editFormVisible:!1,editLoading:!1,editForm:{},editFormTitle:"编辑",editFormRules:{realname:[{required:!0,message:"请输入真实用户名",trigger:"blur"}],userName:[{required:!0,message:"请输入用户名",trigger:"blur"}]}}},mounted:function(){this.initData(),this.initRoles()},watch:{searchValue:function(e){this.filterData()}},methods:{formatStatus:function(e,t){return 1==e.status?"禁用":0==e.status?"正常":"未知"+e.status},initRoles:function(){var e=this;this.$http.get(g,{params:{reqPageSize:9999}}).then(function(t){e.roleList=t.data.data.data})},initData:function(){var e=this;this.searchValue="",this.loading=!0,this.$http.get(f,{params:{reqPage:this.page,reqPageSize:this.pageSize,reqOrderName:this.orderName,reqOrderType:this.orderType}}).then(function(t){e.arrList=t.data.data.data,e.arrAllList=e.arrList,e.loading=!1,e.total=t.data.data.total}).catch(function(t){e.loading=!1})},filterStatus:function(e,t){return t.status==e},filterData:function(){var e=this;this.searchValue?this.arrList=this.arrAllList.filter(function(t){return!(!t.id||-1===t.id.toString().indexOf(e.searchValue))||(!(!t.userName||-1===t.userName.indexOf(e.searchValue))||(!(!t.realname||-1===t.realname.indexOf(e.searchValue))||(!(!t.mobilephone||-1===t.mobilephone.indexOf(e.searchValue))||!(!t.descr||-1===t.descr.indexOf(e.searchValue)))))}):this.arrList=this.arrAllList},handleRepwd:function(e,t){var a=this;this.$confirm("确认重置["+t.realname+"]的密码吗?",{type:"warning"}).then(function(){a.$http.post(f+"/resetPwd/"+t.id,{}).then(function(e){a.$alert(e.data.message),a.initData()})}).catch(function(){})},handleEdit:function(e,t){var a=this;this.$refs.editForm&&this.$refs.editForm.clearValidate(),this.$http.get(f+"/"+t.id,{params:{}}).then(function(e){a.editFormTitle="编辑ID: "+t.id,a.editForm=e.data.data,a.editFormVisible=!0})},handleAdd:function(){this.$refs.editForm&&this.$refs.editForm.clearValidate(),this.editForm={status:0,roleIds:[]},this.editFormTitle="新增",this.editFormVisible=!0},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t?e.editForm.id?e.$http.put(f+"/"+e.editForm.id,e.editForm).then(function(t){e.$message.success(t.data.message),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.initData()}):e.$http.post(f,e.editForm).then(function(t){e.$alert(t.data.message),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.initData()}):e.$message.error("表单验证失败!")})},handleCurrentChange:function(e){this.page=e,this.initData()},handleSizeChange:function(e){this.pageSize=e,this.page=1,this.initData()},handleSort:function(e,t,a){this.orderName=e.prop,"ascending"===e.order?this.orderType="ASC":"descending"===e.order&&(this.orderType="DESC"),this.page=1,this.initData()}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入内容"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.initData}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.arrList,size:"medium",stripe:"","highlight-current-row":""},on:{"sort-change":e.handleSort}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:"",fixed:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realname",label:"显示名称",width:"120",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"120",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100",formatter:e.formatStatus,sortable:"",filters:[{text:"正常",value:"0"},{text:"禁用",value:"1"}],"filter-method":e.filterStatus,"filter-placement":"bottom-end"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobilephone",label:"手机",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"insertTime",label:"添加时间",width:"170",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"descr",label:"备注","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.handleRepwd(t.$index,t.row)}}},[e._v("重置密码")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"sizes, prev, pager, next,total","current-page":e.page,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.page=t}}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.editFormTitle,visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"显示名称",prop:"realname"}},[a("el-input",{attrs:{placeholder:"请输入显示名称"},model:{value:e.editForm.realname,callback:function(t){e.$set(e.editForm,"realname",t)},expression:"editForm.realname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.editForm.userName,callback:function(t){e.$set(e.editForm,"userName",t)},expression:"editForm.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[a("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("正常")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("禁用")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.editForm.mobilephone,callback:function(t){e.$set(e.editForm,"mobilephone",t)},expression:"editForm.mobilephone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.editForm.descr,callback:function(t){e.$set(e.editForm,"descr",t)},expression:"editForm.descr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择角色"},model:{value:e.editForm.roleIds,callback:function(t){e.$set(e.editForm,"roleIds",t)},expression:"editForm.roleIds"}},e._l(e.roleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var R=a("VU/8")(T,q,!1,function(e){a("dxfQ")},"data-v-147ce74f",null).exports,P={name:"SysRoleList",data:function(){return{total:0,page:1,pageSize:10,pageSizes:[10,20,30,50,100],orderName:"id",orderType:"DESC",searchValue:"",loading:!1,arrList:[],arrAllList:[],editFormVisible:!1,editLoading:!1,editForm:{},editFormTitle:"编辑",editFormRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},mounted:function(){this.initData()},watch:{searchValue:function(e){this.filterData()}},methods:{initData:function(){var e=this;this.searchValue="",this.loading=!0,this.$http.get(g,{params:{reqPage:this.page,reqPageSize:this.pageSize,reqOrderName:this.orderName,reqOrderType:this.orderType}}).then(function(t){e.arrList=t.data.data.data,e.arrAllList=e.arrList,e.total=t.data.data.total,e.loading=!1}).catch(function(t){e.loading=!1})},filterData:function(){var e=this;this.searchValue?this.arrList=this.arrAllList.filter(function(t){return!(!t.id||-1===t.id.toString().indexOf(e.searchValue))||(!(!t.name||-1===t.name.indexOf(e.searchValue))||!(!t.descr||-1===t.descr.indexOf(e.searchValue)))}):this.arrList=this.arrAllList},handleSetRes:function(e,t){this.$router.push("/sysRoleResourceList/"+t.id+"/"+t.name)},handleDel:function(e,t){var a=this;this.$confirm("确认删除["+t.name+"]吗?",{type:"warning"}).then(function(){a.$http.delete(g+"/"+t.id).then(function(e){a.$message.success(e.data.message),a.initData()})}).catch(function(){})},handleEdit:function(e,t){this.$refs.editForm&&this.$refs.editForm.clearValidate(),this.editForm=D()({},t),this.editFormTitle="编辑ID: "+t.id,this.editFormVisible=!0},handleAdd:function(){this.editForm={status:0},this.editFormTitle="新增",this.editFormVisible=!0,this.$refs.editForm&&this.$refs.editForm.clearValidate()},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t?e.editForm.id?e.$http.put(g+"/"+e.editForm.id,e.editForm).then(function(t){e.$message.success(t.data.message),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.initData()}):e.$http.post(g,e.editForm).then(function(t){e.$message.success(t.data.message),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.initData()}):e.$message.error("表单验证失败!")})},handleCurrentChange:function(e){this.page=e,this.initData()},handleSizeChange:function(e){this.pageSize=e,this.page=1,this.initData()},handleSort:function(e,t,a){this.orderName=e.prop,"ascending"===e.order?this.orderType="ASC":"descending"===e.order&&(this.orderType="DESC"),this.page=1,this.initData()}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入内容"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.initData}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.arrList,size:"medium",stripe:"","highlight-current-row":""},on:{"sort-change":e.handleSort}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:"",fixed:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"descr",label:"备注","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.handleSetRes(t.$index,t.row)}}},[e._v("设置权限")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"sizes, prev, pager, next,total","current-page":e.page,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.page=t}}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.editFormTitle,visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.editForm.descr,callback:function(t){e.$set(e.editForm,"descr",t)},expression:"editForm.descr"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var E=a("VU/8")(P,M,!1,function(e){a("H0gw")},"data-v-75bf803a",null).exports,O={name:"SysResourceList",data:function(){return{orderName:"name",orderType:"ASC",roleId:"",roleName:"",loading:!1,arrList:[],selectedResourcesIds:[],multipleSelection:[]}},mounted:function(){this.initData()},methods:{initData:function(){var e=this;this.roleId=this.$route.params.roleId,this.roleName=this.$route.params.roleName,this.loading=!0,this.$http.get(v,{params:{reqOrderName:this.orderName,reqOrderType:this.orderType,reqPageSize:9999}}).then(function(t){e.arrList=t.data.data.data,e.initSelected(),e.loading=!1}).catch(function(t){e.loading=!1})},initSelected:function(){var e=this;this.loading=!0,this.$http.get("http://106.12.18.6:80/ysMgrApi/sysResource/sysResourceList/"+this.roleId,{params:{}}).then(function(t){e.selectedResourcesIds=t.data.data,e.loading=!1,e.arrList.forEach(function(t,a){e.selectedResourcesIds.indexOf(t.id)>-1&&e.$refs.multipleTable.toggleRowSelection(t)})}).catch(function(t){e.loading=!1})},handleSelectionChange:function(e){this.multipleSelection=e},editSubmit:function(){var e=this,t=[],a=window.sessionStorage.getItem("zthMgrUserId");this.multipleSelection.forEach(function(e,a){t.push(e.id)}),this.$http.put("http://106.12.18.6:80/ysMgrApi/sysResource/sysResource/"+this.roleId,{selectedResourceIds:t,mgrUserId:a}).then(function(t){e.$message.success(t.data.message),e.$router.push("/sysRole")})},handleSort:function(e,t,a){this.orderName=e.prop,"ascending"===e.order?this.orderType="ASC":"descending"===e.order&&(this.orderType="DESC"),this.page=1,this.initData()}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e._v("\n                角色ID： "+e._s(e.roleId)+" ; 角色名称： "+e._s(e.roleName)+"；\n                "),a("el-button",{attrs:{type:"primary"},on:{click:e.editSubmit}},[e._v("选定提交")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.arrList,size:"medium",stripe:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSort}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNum",label:"排序",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"URL",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"method",label:"方法"}})],1)],1)},staticRenderFns:[]};var j=a("VU/8")(O,U,!1,function(e){a("Tnnu")},"data-v-6a80ede3",null).exports,B={name:"SysUserChangePwd",data:function(){var e=this;return{form:{},rules:{password:[{required:!0,message:"请输入原密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{type:"string",min:5,max:20,message:"密码长度5-20之间",trigger:"blur"}],rePassword:[{validator:function(t,a,r){""===a?r(new Error("请再次输入新密码")):a!==e.form.newPassword?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]}}},methods:{onSubmit:function(){var e=this;this.$refs.form.validate(function(t){t?e.$http.post("http://106.12.18.6:80/ysMgrApi/sysUser/changePwd",{password:w()(e.form.password).toString(),newPassword:w()(e.form.newPassword).toString(),rePassword:w()(e.form.rePassword).toString()}).then(function(t){window.localStorage.setItem("qqlgjf4ief34fww1",""),window.localStorage.setItem("qqlgjf4ief34fww2",""),e.$message.success("修改成功请重新登录"),e.$router.push("/login")}):e.$message.error("表单验证失败!")})}}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"原密码",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入原密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"rePassword"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入确认密码"},model:{value:e.form.rePassword,callback:function(t){e.$set(e.form,"rePassword",t)},expression:"form.rePassword"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var G=a("VU/8")(B,H,!1,function(e){a("kpXx")},"data-v-26a8319c",null).exports,Q=a("Dd8w"),X=a.n(Q),W={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String},methods:{handleClose:function(e){this.$emit("close",e)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:e.disableTransitions?"":"el-zoom-in-center"}},[a("span",{staticClass:"el-tag",class:[e.type?"el-tag--"+e.type:"",e.tagSize&&"el-tag--"+e.tagSize,{"is-hit":e.hit}],style:{backgroundColor:e.color}},[e._t("default"),e._v(" "),e.closable?a("i",{staticClass:"el-tag__close el-icon-close",on:{click:function(t){return t.stopPropagation(),e.handleClose(t)}}}):e._e()],2)])},staticRenderFns:[]},K=[{key:"1",display_name:"注册用户"},{key:"2",display_name:"未注册用户"}],J=[{key:"0",display_name:"不能发布"},{key:"1",display_name:"可以发布"}],Z=[{key:"1",display_name:"个人广告"},{key:"2",display_name:"企业广告"}],ee={components:{ElTag:a("VU/8")(W,Y,!1,null,null,null).exports},data:function(){return{loading:!1,arrList:[],arrAllList:[],total:null,userInfoForm:{},page:1,limit:10,list:null,type:null,calendarTypeOptions:K,calendarCanIssuance:J,calendarUserProperty:Z}},mounted:function(){this.initData()},watch:{},methods:{showFundArticle:function(e){},confirmEdit:function(e){var t=this;e.edit=!1,e.originalNickName=e.nickName,this.$http.post("http://106.12.18.6:80/ysMgrApi/userInfo/modifyUserNickName",{nickName:e.originalNickName,id:e.id}).then(function(e){t.$message.success("昵称已修改")})},cancelEdit:function(e){e.nickName=e.originalNickName,e.edit=!1,this.$message({message:"昵称未保存已还原",type:"warning"})},formatStatus:function(e,t){return 1==e.type?"注册用户":"未注册用户"},formatPlat:function(e,t){return 1==e.platform?"IOS":"Android"},initData:function(){var e=this;this.$route.query.row&&(this.userInfoForm.id=this.$route.query.row),this.loading=!0,this.$http.post("http://106.12.18.6:80/ysMgrApi/userInfo",X()({reqPage:this.page,reqPageSize:this.pageSize,reqOrderName:this.orderName,reqOrderType:this.orderType},this.userInfoForm)).then(function(t){e.arrList=t.data.data.data,e.arrAllList=e.arrList,e.total=t.data.data.total;var a=t.data.data.data;e.list=a.map(function(t){return e.$set(t,"edit",!1),t.originalNickName=t.nickName,t}),e.loading=!1}).catch(function(t){e.loading=!1})},filterStatus:function(e,t){return t.type==e},filterPlat:function(e,t){return t.platform==e},handleSearch:function(){this.initData()},handleEmp:function(){this.userInfoForm={},this.$router.push({path:"/userInfo"}),this.initData()},handleSizeChange:function(e){this.limit=e,this.initData()},handleCurrentChange:function(e){this.page=e,this.initData()}}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"userInfoForm",attrs:{inline:!0,model:e.userInfoForm}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"搜索ID"},model:{value:e.userInfoForm.id,callback:function(t){e.$set(e.userInfoForm,"id",t)},expression:"userInfoForm.id"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"numBer",placeholder:"精确搜索手机号","prefix-icon":"el-icon-mobile-phone"},model:{value:e.userInfoForm.phoneNum,callback:function(t){e.$set(e.userInfoForm,"phoneNum",t)},expression:"userInfoForm.phoneNum"}})],1),e._v(" "),a("el-form-item",[a("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"注册类型"},model:{value:e.userInfoForm.type,callback:function(t){e.$set(e.userInfoForm,"type",t)},expression:"userInfoForm.type"}},e._l(e.calendarTypeOptions,function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}))],1),e._v(" "),a("el-form-item",[a("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"发布类型"},model:{value:e.userInfoForm.canIssuance,callback:function(t){e.$set(e.userInfoForm,"canIssuance",t)},expression:"userInfoForm.canIssuance"}},e._l(e.calendarCanIssuance,function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}))],1),e._v(" "),a("el-form-item",[a("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"发布广告类型"},model:{value:e.userInfoForm.userProperty,callback:function(t){e.$set(e.userInfoForm,"userProperty",t)},expression:"userInfoForm.userProperty"}},e._l(e.calendarUserProperty,function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}))],1),e._v(" "),a("el-form-item",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.userInfoForm.reqDateStart,callback:function(t){e.$set(e.userInfoForm,"reqDateStart",t)},expression:"userInfoForm.reqDateStart"}})],1),e._v(" "),a("el-form-item",[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束时间","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.userInfoForm.reqDateEnd,callback:function(t){e.$set(e.userInfoForm,"reqDateEnd",t)},expression:"userInfoForm.reqDateEnd"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.handleEmp}},[e._v("清空")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.arrList,size:"medium",stripe:"","highlight-current-row":"",border:"",fit:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"155",sortable:"",fixed:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phoneNum",fixed:"",width:"135",label:"手机"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-mobile-phone"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.phoneNum))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"80",label:"用户性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1==t.row.sex?"primary":2==t.row.sex?"danger":"info",circle:""}},[e._v("\n                    "+e._s(1==t.row.sex?"男":2==t.row.sex?"女":"未选择")+"\n                ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"165",label:"广告发布"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0==t.row.canIssuance?"danger":"success",circle:""}},[e._v("\n                    "+e._s(0==t.row.canIssuance?"不能发布":"可以发布")+"\n                ")]),e._v(" "),1==t.row.canIssuance?a("el-tag",{attrs:{type:1==t.row.userProperty?"success":"warning",circle:""}},[e._v(e._s(1==t.row.userProperty?"个人广告":"企业广告")+"\n                ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"230",label:"用户昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[a("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:t.row.nickName,callback:function(a){e.$set(t.row,"nickName",a)},expression:"scope.row.nickName"}}),e._v(" "),a("el-button",{staticClass:"cancel-btn",attrs:{size:"small",icon:"el-icon-refresh",type:"warning"},on:{click:function(a){e.cancelEdit(t.row)}}},[e._v("返回\n                    ")])]:a("span",[e._v(e._s(t.row.nickName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"用户头像",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.headImage2,width:"65",height:"65 "}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"用户生日",width:"185"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.birthday))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"用户地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"注册状态",width:"120",formatter:e.formatStatus,filters:[{text:"注册用户",value:"1"},{text:"未注册用户",value:"2"}],"filter-method":e.filterStatus,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1==t.row.type?"success":"warning"}},[e._v("\n                    "+e._s(1==t.row.type?"注册用户":"未注册用户")+"\n                ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"platform",label:"设备系统",width:"90",formatter:e.formatPlat,filters:[{text:"IOS",value:"1"},{text:"Android",value:"2"}],"filter-method":e.filterPlat,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1==t.row.platform?"info":"success"}},[e._v("\n                    "+e._s(1==t.row.platform?"IOS":"Android")+"\n                ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间",width:"180",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createTime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-circle-check-outline"},on:{click:function(a){e.confirmEdit(t.row)}}},[e._v("修改\n                ")]):a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(e){t.row.edit=!t.row.edit}}},[e._v("昵称\n                ")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[10,20,30,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var ae=a("VU/8")(ee,te,!1,function(e){a("8FyA")},"data-v-e3d4ed1a",null).exports,re={data:function(){return{loading:!1,total:0,page:1,pageSize:10,orderName:"id",orderType:"DESC",pageSizes:[10,20,30,50,100],arrList:[],filterForm:{},editFormVisible:!1,editLoading:!1,editForm:{},editFormTitle:"",editFormRules:{}}},mounted:function(){this.initData()},methods:{initData:function(){var e=this;this.$http.post("http://106.12.18.6:80/ysMgrApi/news",X()({reqPage:this.page,reqPageSize:this.pageSize},this.filterForm,{reqOrderName:this.orderName,reqOrderType:this.orderType})).then(function(t){e.arrList=t.data.data.data,e.total=t.data.data.total,e.loading=!1}).catch(function(t){e.loading=!1}),this.loading=!0},handleSearch:function(){this.page=1,this.initData()},handleSort:function(e,t,a){this.orderName=e.prop,"ascending"===e.order?this.orderType="ASC":"descending"===e.order&&(this.orderType="DESC"),this.page=1,this.initData()},handleReset:function(){this.filterForm={},this.page=1,this.initData()},handleCurrentChange:function(e){this.page=e,this.initData()},handleSizeChange:function(e){this.pageSize=e,this.page=1,this.initData()},handleAdd:function(){this.$refs.editForm&&this.$refs.editForm.clearValidate(),this.editForm={},this.editFormTitle="新增",this.editFormVisible=!0},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t?e.$http.post("http://106.12.18.6:80/ysMgrApi/news/add",X()({},e.editForm)).then(function(t){e.$message.success(t.data.message),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.initData()}):e.$message.error("表单验证失败!")})},handleUpdate:function(e){var t=this;this.$http.get("http://106.12.18.6:80/ysMgrApi/news/update/"+e.id,{}).then(function(e){t.$message({type:"success",message:"更新成功!"}),t.initData()}).catch(function(e){t.loading=!1})},closeDialog:function(){this.editFormVisible=!1,this.editForm={}}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"filterForm",attrs:{inline:!0,model:e.filterForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"备注",prop:"content"}},[a("el-input",{attrs:{placeholder:"模糊查询备注"},model:{value:e.filterForm.content,callback:function(t){e.$set(e.filterForm,"content",t)},expression:"filterForm.content"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:e.handleReset}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"add"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.arrList,size:"medium",stripe:"","highlight-current-row":""},on:{"sort-change":e.handleSort}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"150px",sortable:"",fixed:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"url"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:t.row.url,target:"_blank"}},[e._v(e._s(t.row.url))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0==t.row.status?"primary":"danger",circle:""}},[e._v("\n                    "+e._s(t.row.status2)+"\n                ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"insertTime",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:0==t.row.status?"danger":"primary",size:"mini"},on:{click:function(a){e.handleUpdate(t.row)}}},[e._v(e._s(0===t.row.status?"设为失效":"设为正常"))])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"sizes, prev, pager, next,total","current-page":e.page,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.page=t}}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.editFormTitle,visible:e.editFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:e.editForm.title,callback:function(t){e.$set(e.editForm,"title",t)},expression:"editForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"url",prop:"url"}},[a("el-input",{model:{value:e.editForm.url,callback:function(t){e.$set(e.editForm,"url",t)},expression:"editForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"content"}},[a("el-input",{model:{value:e.editForm.content,callback:function(t){e.$set(e.editForm,"content",t)},expression:"editForm.content"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.closeDialog(t)}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]},ne=a("VU/8")(re,ie,!1,null,null,null).exports;s.default.use(m.a);var oe=new m.a({scrollBehavior:function(){return{y:0}},routes:[{path:"*",redirect:"/login",hidden:!0},{path:"/login",component:F,name:"Login",hidden:!0},{path:"/loading",component:z,name:"Loading",hidden:!0},{path:"/",component:C,name:"用户管理",iconCls:"el-icon-mobile-phone",children:[{path:"/welcome",component:k,name:"欢迎页",hidden:!0},{path:"/userInfo",component:ae,name:"用户列表"},{path:"/sysUser",component:R,name:"系统用户"},{path:"/sysRole",component:E,name:"系统角色"},{path:"/sysResource",component:A,name:"系统权限"},{path:"/sysRoleResourceList/:roleId/:roleName",component:j,name:"设置权限",hidden:!0},{path:"/sysUserChangePwd",component:G,name:"修改密码",hidden:!0},{path:"/news",component:ne,name:"新闻列表"}]}]}),se=a("NYxO");s.default.use(se.a);var le=new se.a.Store({state:{menu:!0},getters:{menu:function(e){return e.menu}},mutations:{showMenu:function(e){e.menu=!0},hideMenu:function(e){e.menu=!1}},actions:{showMenu:function(e){(0,e.commit)("showMenu")},hideMenu:function(e){(0,e.commit)("hideMenu")}}}),de=a("mtWM"),ce=a.n(de),ue=a("mw3O"),me=a.n(ue),pe={normalTime:function(e){if(e){var t=new Date;t.setTime(e);var a=t.getFullYear(),r=t.getMonth()+1;r=r<10?"0"+r:r;var i=t.getDate();i=i<10?"0"+i:i;var n=t.getHours();n=n<10?"0"+n:n;var o=t.getMinutes();o=o<10?"0"+o:o;var s=t.getSeconds();return a+"-"+r+"-"+i+" "+n+":"+o+":"+(s=s<10?"0"+s:s)}},cdnImg:function(e){return e&&void 0!=e&&0!=e.length?0==e.indexOf("http://")||0==e.indexOf("https://")||0==e.indexOf("ftp://")?e:(0!=e.indexOf("/")&&(e="/"+e),p+e):p+"/static/img/logo.png"},zero:function(e){return""===e?"0":""+e},date:function(e){if(e){var t=new Date;t.setTime(e);var a=t.getFullYear(),r=t.getMonth()+1;r=r<10?"0"+r:r;var i=t.getDate();return a+"-"+r+"-"+(i=i<10?"0"+i:i)}}},he={install:function(e){e.directive("src",function(e,t){var a=t.value;a&&void 0!=a&&0!=a.length?0==a.indexOf("http://")||0==a.indexOf("https://")||0==a.indexOf("ftp://")?e.src=a:(0!=a.indexOf("/")&&(a="/"+a),e.src=p+a):e.src=p+"/static/img/logo.png"})}},fe=a("/IwO"),ge=a.n(fe),ve=this;s.default.use(d.a),s.default.use(he),s.default.use(ge.a),o()(pe).forEach(function(e){return s.default.filter(e,pe[e])}),s.default.config.productionTip=!1,ce.a.interceptors.request.use(function(e){var t=window.sessionStorage.getItem("zthMgrAccessToken")||"",a=window.sessionStorage.getItem("zthMgrUserId")||"";e.auth={username:"qqlg-client-1",password:"qqlg-client-1"+t},e.timeout=1e4;var r=(new Date).getTime();return"get"===e.method||"delete"===e.method?(e.params||(e.params={}),e.params.timestamp=r,e.params.accessUserId=a,e.params.mdtoken=w()(t+a+r+"xyz!*#123").toString()):(e.data||(e.data={}),e.data.timestamp=r,e.data.accessUserId=a,e.data.mdtoken=w()(t+a+r+"xyz!*#123").toString(),e.data=me.a.stringify(e.data)),e},function(e){return be.$message.error("请求失败"),i.a.reject(e)}),ge.a.initAMapApiLoader({key:"cec6aeebeb3a4cb85ee09aa0c1f525c4",plugin:["AMap.Geolocation","AMap.Autocomplete","AMap.PlaceSearch","AMap.Scale","AMap.OverView","AMap.ToolBar","AMap.MapType","AMap.PolyEditor","AMap.CircleEditor","Geocoder"]}),fe.lazyAMapApiLoaderInstance.load().then(function(){ve.map=new AMap.Map("amapContainer",{center:new AMap.LngLat(121.59996,31.197646)})}),ce.a.interceptors.response.use(function(e){return 0==e.data.code?e:(1==e.data.code?be.$message.error("请求错误1"):2==e.data.code?be.$message.error(e.data.message):3==e.data.code?oe.push("/login"):4==e.data.code?be.$message.error("没有权限"):be.$message.error("未知错误"),i.a.reject(e))},function(e){return be.$message.error("响应失败"),i.a.reject(e)}),s.default.prototype.$http=ce.a;var be=new s.default({el:"#app",router:oe,store:le,components:{App:u},template:"<App/>"})},Tnnu:function(e,t){},XNkn:function(e,t){},dxfQ:function(e,t){},ffIQ:function(e,t){},kpXx:function(e,t){},tvR6:function(e,t){},zodK:function(e,t){}},["NHnr"]);